{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{ghlJ:function(l,n,u){\"use strict\";u.r(n);var e=u(\"8Y7J\"),i=u(\"18Le\"),t=u(\"wMzM\"),r=u(\"gREL\"),o=u(\"CUZT\"),a=u(\"gRf5\"),s=u(\"uRF+\"),b=u(\"iWj2\"),c=u(\"t8sF\"),h=u(\"AytR\");class d{constructor(l,n,u,e,i,t,r,o,a){this.authenticationService=l,this.loaderService=n,this.router=u,this.alertService=e,this.transfer=i,this.fileOpener=t,this.file=r,this.filePath=o,this.fileChooser=a,this.isPdf=!1,this.fileTransfer=this.transfer.create()}ngOnInit(){this.authenticationService.getCurrentUser().then(l=>{this.userId=l.id,this.authenticationService.getApplication().then(l=>{l&&(this.id=l.id)})})}viewPdf(){this.fileOpener.showOpenWithDialog(this.returnPath,\"application/pdf\").then(()=>console.log(\"File is opened\")).catch(l=>console.log(\"Error opening file\",l))}pickFile(){this.fileChooser.open().then(l=>{this.path=l,this.filePath.resolveNativePath(l).then(l=>{this.returnPath=l,this.fileName=this.returnPath.substring(this.returnPath.lastIndexOf(\"/\")+1),this.fileType=this.fileName.substring(this.fileName.lastIndexOf(\".\")+1),\"pdf\"==this.fileType?this.isPdf=!0:(this.isPdf=!1,this.alertService.presentToast(\"File must be in PDF format!\"))})})}upload(){this.loaderService.showLoader(\"Saving document ...\"),this.fileTransfer.upload(this.returnPath,`${h.a.url}/application/mobileForm6`,{fileKey:\"credential\",fileName:\"name.pdf\",params:{userId:this.userId,id:this.id},headers:{}}).then(l=>{this.loaderService.hideLoader(),this.router.navigate([\"pages/finalForm\"])},l=>{this.loaderService.hideLoader(),this.alertService.presentToast(\"The server couldn't save this, try again later.\")})}}class p{}var f=u(\"pMnS\"),g=u(\"ZZ/e\"),m=u(\"oBZk\"),v=u(\"s7LF\"),k=u(\"SVse\"),x=u(\"iInd\"),q=e.pb({encapsulation:0,styles:[\"[_ngcontent-%COMP%]:root {\\n    --ion-safe-area-top: 20px;\\n    --ion-safe-area-bottom: 22px;\\n  }\",[\"\"]],data:{}});function P(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,8,\"div\",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,2,\"div\",[[\"text-center\",\"\"]],null,[[null,\"click\"]],(function(l,n,u){var e=!0;return\"click\"===n&&(e=!1!==l.component.viewPdf()&&e),e}),null,null)),e.qb(2,16384,null,0,g.e,[e.k],null,null),(l()(),e.rb(3,0,null,null,0,\"img\",[[\"alt\",\"Logo\"],[\"src\",\"assets/icon/pdf.png\"],[\"title\",\"Logo\"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,4,\"ion-button\",[[\"color\",\"primary\"],[\"expand\",\"full\"]],null,[[null,\"click\"]],(function(l,n,u){var e=!0;return\"click\"===n&&(e=!1!==l.component.upload()&&e),e}),m.T,m.e)),e.qb(5,49152,null,0,g.l,[e.h,e.k,e.x],{color:[0,\"color\"],expand:[1,\"expand\"]},null),(l()(),e.Jb(-1,0,[\"Upload \"])),(l()(),e.rb(7,0,null,0,1,\"ion-icon\",[[\"name\",\"cloud-upload-outline\"]],null,null,null,m.gb,m.r)),e.qb(8,49152,null,0,g.D,[e.h,e.k,e.x],{name:[0,\"name\"]},null)],(function(l,n){l(n,5,0,\"primary\",\"full\"),l(n,8,0,\"cloud-upload-outline\")}),null)}function D(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,11,\"ion-header\",[],null,null,null,m.fb,m.q)),e.qb(1,49152,null,0,g.C,[e.h,e.k,e.x],null,null),(l()(),e.rb(2,0,null,0,9,\"ion-toolbar\",[[\"color\",\"primary\"]],null,null,null,m.Db,m.O)),e.qb(3,49152,null,0,g.Db,[e.h,e.k,e.x],{color:[0,\"color\"]},null),(l()(),e.rb(4,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,m.U,m.f)),e.qb(5,49152,null,0,g.m,[e.h,e.k,e.x],null,null),(l()(),e.rb(6,0,null,0,2,\"ion-back-button\",[],null,[[null,\"click\"]],(function(l,n,u){var i=!0;return\"click\"===n&&(i=!1!==e.Db(l,8).onClick(u)&&i),i}),m.R,m.c)),e.qb(7,49152,null,0,g.h,[e.h,e.k,e.x],null,null),e.qb(8,16384,null,0,g.i,[[2,g.jb],g.Jb],null,null),(l()(),e.rb(9,0,null,0,2,\"ion-title\",[],null,null,null,m.Cb,m.N)),e.qb(10,49152,null,0,g.Bb,[e.h,e.k,e.x],null,null),(l()(),e.Jb(-1,0,[\"File Upload\"])),(l()(),e.rb(12,0,null,null,23,\"ion-content\",[[\"fullscreen\",\"\"],[\"padding\",\"\"]],null,null,null,m.bb,m.m)),e.qb(13,49152,null,0,g.v,[e.h,e.k,e.x],{fullscreen:[0,\"fullscreen\"]},null),e.qb(14,16384,null,0,g.e,[e.k],null,null),(l()(),e.rb(15,0,null,0,20,\"form\",[[\"method\",\"post\"],[\"novalidate\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"submit\"],[null,\"reset\"]],(function(l,n,u){var i=!0;return\"submit\"===n&&(i=!1!==e.Db(l,17).onSubmit(u)&&i),\"reset\"===n&&(i=!1!==e.Db(l,17).onReset()&&i),i}),null,null)),e.qb(16,16384,null,0,v.m,[],null,null),e.qb(17,4210688,[[\"form\",4]],0,v.h,[[8,null],[8,null]],null,null),e.Gb(2048,null,v.a,null,[v.h]),e.qb(19,16384,null,0,v.g,[[4,v.a]],null,null),(l()(),e.rb(20,0,null,null,2,\"div\",[[\"text-center\",\"\"]],null,null,null,null,null)),e.qb(21,16384,null,0,g.e,[e.k],null,null),(l()(),e.rb(22,0,null,null,0,\"img\",[[\"alt\",\"Logo\"],[\"src\",\"assets/upload.gif\"],[\"style\",\"width: 200px; height: 200px;\"],[\"title\",\"Logo\"]],null,null,null,null,null)),(l()(),e.rb(23,0,null,null,2,\"div\",[[\"class\",\"ion-text-center\"]],null,null,null,null,null)),(l()(),e.rb(24,0,null,null,1,\"h5\",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,[\"Upload a merged PDF file.\"])),(l()(),e.rb(26,0,null,null,9,\"ion-list\",[[\"class\",\"ion-no-margin ion-no-padding\"],[\"lines\",\"full\"]],null,null,null,m.pb,m.z)),e.qb(27,49152,null,0,g.P,[e.h,e.k,e.x],{lines:[0,\"lines\"]},null),(l()(),e.rb(28,0,null,0,5,\"div\",[[\"class\",\"ion-padding\"]],null,null,null,null,null)),(l()(),e.rb(29,0,null,null,4,\"ion-button\",[[\"color\",\"primary\"],[\"expand\",\"full\"]],null,[[null,\"click\"]],(function(l,n,u){var e=!0;return\"click\"===n&&(e=!1!==l.component.pickFile()&&e),e}),m.T,m.e)),e.qb(30,49152,null,0,g.l,[e.h,e.k,e.x],{color:[0,\"color\"],expand:[1,\"expand\"]},null),(l()(),e.Jb(-1,0,[\"Browse \"])),(l()(),e.rb(32,0,null,0,1,\"ion-icon\",[[\"name\",\"cloud-upload\"]],null,null,null,m.gb,m.r)),e.qb(33,49152,null,0,g.D,[e.h,e.k,e.x],{name:[0,\"name\"]},null),(l()(),e.gb(16777216,null,0,1,null,P)),e.qb(35,16384,null,0,k.j,[e.M,e.J],{ngIf:[0,\"ngIf\"]},null)],(function(l,n){var u=n.component;l(n,3,0,\"primary\"),l(n,13,0,\"\"),l(n,27,0,\"full\"),l(n,30,0,\"primary\",\"full\"),l(n,33,0,\"cloud-upload\"),l(n,35,0,u.isPdf)}),(function(l,n){l(n,15,0,e.Db(n,19).ngClassUntouched,e.Db(n,19).ngClassTouched,e.Db(n,19).ngClassPristine,e.Db(n,19).ngClassDirty,e.Db(n,19).ngClassValid,e.Db(n,19).ngClassInvalid,e.Db(n,19).ngClassPending)}))}function y(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,\"app-upload\",[],null,null,null,D,q)),e.qb(1,114688,null,0,d,[i.a,o.a,x.m,r.a,a.a,t.a,c.a,b.a,s.a],null,null)],(function(l,n){l(n,1,0)}),null)}var B=e.nb(\"app-upload\",d,y,{},{},[]);u.d(n,\"UploadPageModuleNgFactory\",(function(){return C}));var C=e.ob(p,[],(function(l){return e.Ab([e.Bb(512,e.j,e.Z,[[8,[f.a,B]],[3,e.j],e.v]),e.Bb(4608,k.l,k.k,[e.s,[2,k.r]]),e.Bb(4608,v.l,v.l,[]),e.Bb(4608,g.c,g.c,[e.x,e.g]),e.Bb(4608,g.Ib,g.Ib,[g.c,e.j,e.p]),e.Bb(4608,g.Nb,g.Nb,[g.c,e.j,e.p]),e.Bb(1073742336,k.b,k.b,[]),e.Bb(1073742336,v.k,v.k,[]),e.Bb(1073742336,v.b,v.b,[]),e.Bb(1073742336,g.Fb,g.Fb,[]),e.Bb(1073742336,x.o,x.o,[[2,x.t],[2,x.m]]),e.Bb(1073742336,p,p,[]),e.Bb(1024,x.k,(function(){return[[{path:\"\",component:d}]]}),[])])}))}}]);","extractedComments":[]}